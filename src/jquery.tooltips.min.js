$.fn.tooltips=function(a){var b=$.extend({},$.fn.tooltips.defaults,a);return this.each(function(){var c=b.makeMarkup.call($(this)),d=$('<div class="tt" />').append(c);$(this).parent().append(d);$(this).removeAttr("title").mousemove(function(i){var f=$(window).scrollTop(),g=$(window).width(),h=0,e=0;if(g-(b.offsetX*2)>=d.width()+i.pageX){h=i.pageX+b.offsetX}else{h=g-d.width()-b.offsetX}if(f+(b.offsetY*2)>=i.pageY-d.height()){e=f+b.offsetY}else{e=i.pageY-d.height()-b.offsetY}d.css({left:h,top:e})}).mouseout(function(){d.css("left","-9999px")})})};$.fn.tooltips.defaults={offsetX:10,offsetY:10,makeMarkup:function(){var a=$('<div class="wrap" />'),b=this.attr("title");$("<img />",{"class":"thumb",src:this.attr("href"),load:function(){a.prepend(this)}});if(b&&b.length){$('<div class="title" />').text(b).prependTo(a)}return a}};